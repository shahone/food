/*! For license information please see bundle.js.LICENSE.txt */
!function(){"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".modal");(function({sliderBody:e,sliderTape:t,slide:a,nextArr:o,prevArr:s,totalNum:n,currentNum:c}){const l=document.querySelector(e),r=document.querySelector(t),i=document.querySelectorAll(a),d=document.querySelector(o),u=document.querySelector(s),m=document.querySelector(n),g=document.querySelector(c),h=+window.getComputedStyle(l).width.replace(/\D/g,""),f=h*i.length;let v=0,y=1;function _(e){m.textContent=e<10?`0${e}`:e,document.querySelectorAll(".dot").forEach(((t,a)=>{t.classList.remove("active"),a===e-1&&t.classList.add("active")}))}l.style.overflow="hidden",r.style.display="flex",r.style.width=f+"px",r.style.position="relative",r.style.transition=".3s",i.length<10?(g.textContent=`0${i.length}`,m.textContent=`0${y}`):(g.textContent=i.length,m.textContent=y),u.addEventListener("click",(()=>{v===f-h?(v=0,y=0):v+=h,r.style.transform=`translateX(-${v}px)`,_(++y)})),d.addEventListener("click",(()=>{0===v?(v=f-h,y=i.length+1):v-=h,r.style.transform=`translateX(-${v}px)`,_(--y)}));const p=document.createElement("ul");p.classList.add("carousel-indicators"),l.append(p),l.style.position="relative",i.forEach((e=>{const t=document.createElement("li");t.classList.add("dot"),p.append(t)})),document.querySelectorAll(".dot").forEach(((e,t)=>{e.classList.remove("active"),t===y-1&&e.classList.add("active")})),p.addEventListener("click",(e=>function(e){e.target&&e.target.classList.contains("dot")&&document.querySelectorAll(".dot").forEach(((t,a)=>{e.target===t&&(v=h*a,y=a+1,_(y)),r.style.transform=`translateX(-${v}px)`}))}(e)))})({sliderBody:".offer__slider-wrapper",sliderTape:".offer__slider-inner",slide:".offer__slide",nextArr:".offer__slider-prev",prevArr:".offer__slider-next",totalNum:"#current",currentNum:"#total"}),function(e,t,a){const o=document.querySelectorAll(e),s=document.querySelectorAll(t),n=document.querySelector(a),c=(e=0)=>{o.forEach((e=>{e.classList.add("hide")})),o[e].classList.remove("hide"),o[e].classList.add("fade"),s.forEach(((e,t)=>{e.classList.remove("tabheader__item_active")})),s[e].classList.add("tabheader__item_active")};c(1),n.addEventListener("click",(e=>((e,t)=>{e.target&&e.target.matches(".tabheader__item")&&s.forEach(((t,a)=>{e.target===t&&c(a)}))})(e)))}(".tabcontent",".tabheader__item",".tabheader__items"),(()=>{const e=document.querySelector(".calculating__result span"),t=document.querySelector(".calculating__field");let a=localStorage.getItem("sex")||"male",o=localStorage.getItem("ratio")||"1.375",s=localStorage.getItem("height")||"",n=localStorage.getItem("weight")||"",c=localStorage.getItem("age")||"";function l(e,t){document.querySelectorAll(t).forEach((e=>{e.classList.remove("calculating__choose-item_active")})),e.classList.add("calculating__choose-item_active")}function r(){e.textContent=a&&s&&n&&c&&o?"female"===a?Math.round((447.6+9.2*n+3.1*s-4.3*c)*o):Math.round((88.36+13.4*n+4.8*s-5.7*c)*o):""}document.querySelectorAll(".calculating__choose-item").forEach((e=>{if(e.classList.remove("calculating__choose-item_active"),(e.getAttribute("data-ratio")===o||e.getAttribute("id")===a)&&e.classList.add("calculating__choose-item_active"),"INPUT"===e.tagName)switch(e.id){case"height":e.value=localStorage.getItem("height");break;case"weight":e.value=localStorage.getItem("weight");break;case"age":e.value=localStorage.getItem("age")}})),r(),t.addEventListener("click",(e=>function(e){if(e.target&&e.target.classList.contains("calculating__choose-item")){switch(e.target.id){case"female":a="female",localStorage.setItem("sex","female"),l(e.target,"[data-gender]");break;case"male":a="male",localStorage.setItem("sex","male"),l(e.target,"[data-gender]")}if("INPUT"===e.target.tagName){const t=window.getComputedStyle(e.target).width,a=e.target.getBoundingClientRect(),o=document.documentElement.scrollTop+a.bottom,l=document.createElement("div");l.classList.add("notice"),l.style.cssText=`\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          position: absolute;\n          top: ${o}px;\n          left: ${a.left}px;\n          width: ${t};\n          color: red;\n          opacity: 0;\n          transition: .5s;\n        `,l.textContent="в цифрах",document.body.append(l),e.target.addEventListener("input",(()=>{switch(e.target.value.match(/\D/g)&&(e.target.value=e.target.value.replace(/\D/g,""),l.style.opacity="1",setTimeout((()=>{l.style.opacity="0"}),500)),e.target.id){case"height":s=e.target.value,localStorage.setItem("height",s);break;case"weight":n=e.target.value,localStorage.setItem("weight",n);break;case"age":c=e.target.value,localStorage.setItem("age",c)}r()}))}e.target.dataset.ratio&&(o=e.target.dataset.ratio,localStorage.setItem("ratio",o),l(e.target,"[data-ratio]")),r()}}(e)))})(),function(e){function t(e){return e>=0&&e<10?`0${e}`:e<0?"00":e}!function(e,a){const o=document.querySelector(".timer"),s=o.querySelector("#days"),n=o.querySelector("#hours"),c=o.querySelector("#minutes"),l=o.querySelector("#seconds"),r=setInterval(i,1e3);function i(){const e=function(e){const t=Date.parse(e)-Date.parse(new Date);return{t:t,days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/6e4%60),seconds:Math.floor(t/1e3%60)}}(a);s.innerHTML=t(e.days),n.innerHTML=t(e.hours),c.innerHTML=t(e.minutes),l.innerHTML=t(e.seconds),e.t<=0&&(clearInterval(r),console.log(e.days))}i()}(0,e)}("2021-08-23"),function(e,t){const a=document.querySelectorAll(t),o=()=>{e.classList.toggle("show"),s()},s=()=>{const e=document.body,t=e.offsetWidth;if("hidden"===e.style.overflow)e.style.overflow="",e.style.marginRight="";else{e.style.overflow="hidden";const a=e.offsetWidth-t;e.style.marginRight=a+"px"}},n=()=>{document.documentElement.scrollTop+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&(o(),window.removeEventListener("scroll",n))};a.forEach((e=>{e.addEventListener("click",(()=>{o()}))})),e.addEventListener("click",(t=>{(t.target===e||t.target.classList.contains("modal__close"))&&o()})),window.addEventListener("scroll",n)}(e,"[data-modal]"),function(){const e=document.querySelector(".menu__field .container");class t{constructor(e,t,a,o,s,...n){this.imgSrc=e,this.alt=t,this.subtitle=a,this.descr=o,this.price=s,this.rate=27,this.changeToUAH(),this.classes=n}changeToUAH(){this.price*=this.rate}createCard(){const t=document.createElement("div");0===this.classes.length?t.classList.add("menu__item"):this.classes.forEach((e=>t.classList.add(e))),t.innerHTML=`\n        <img src="${this.imgSrc}" alt="${this.alt}">\n        <h3 class="menu__item-subtitle">${this.subtitle}</h3>\n        <div class="menu__item-descr">${this.descr}</div>\n        <div class="menu__item-divider"></div>\n        <div class="menu__item-price">\n            <div class="menu__item-cost">Цена:</div>\n            <div class="menu__item-total"><span>${this.price}</span> грн/день</div>\n        </div>\n      `,e.append(t)}showData(){console.log(this.imgSrc,this.alt,this.subtitle,this.descr,this.price)}}axios.get("http://localhost:3000/menu").then((e=>{e.data.forEach((({img:e,altimg:a,title:o,descr:s,price:n})=>{new t(e,a,o,s,n).createCard()}))}))}(),function(e){document.querySelectorAll("form").forEach((t=>function(t){t.addEventListener("submit",(a=>{a.preventDefault();const o=document.querySelector(".modal__content");o.classList.add("hide");const s=document.createElement("div");s.classList.add("modal__content"),s.innerHTML='<img src=img/spinner.svg alt="loading">',document.querySelector(".modal__dialog").append(s);const n=new FormData(t);console.log(n);const c=JSON.stringify(Object.fromEntries(n.entries()));console.log(c),(async(e,t)=>{const a=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-type":"application/json"},body:t});return await a.json()})(0,c).then((t=>{console.log(t),s.textContent="Ок",setTimeout((()=>{s.remove(),e.classList.remove("show"),o.classList.remove("hide"),document.body.style.overflow=""}),3e3)})).catch((()=>{s.textContent="Что-то не то"})).finally((()=>{t.reset()}))}))}(t)))}(e)}))}();
//# sourceMappingURL=bundle.js.map